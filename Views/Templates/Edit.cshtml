@model Pdfinary.Models.Template

@{
    ViewData["Title"] = "Edit Template";
}
<div class="row">
    <div class="col-md-12">
        <div class="grid simple ">
            <div class="grid-title">
                <h4>PDF TEMPLATE</h4>
                <div class="tools">
                    <a href="javascript:;" class="collapse"></a>
                    <a href="#grid-config" data-toggle="modal" class="config"></a>
                    <a href="javascript:;" class="reload"></a>
                    <a href="javascript:;" class="remove"></a>
                </div>
            </div>
            <div class="grid-body">
                <div class="row">
                    <div class="col-md-4">
                        <form asp-action="Edit">
                            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                            <input type="hidden" asp-for="SubscriptionId" />
                            <input type="hidden" asp-for="Id" />
                            <input type="hidden" asp-for="ProductionHtml" />
                            <input type="hidden" asp-for="DraftHtml" id="DraftHtml" />
                            <div class="form-group">
                                <label asp-for="Name" class="control-label"></label>
                                <input asp-for="Name" class="form-control" />
                                <span asp-validation-for="Name" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="Description" class="control-label"></label>
                                <textarea asp-for="Description" class="form-control"></textarea>
                                <span asp-validation-for="Description" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Scale</label>
                                <input asp-for="Scale" class="form-control" />
                                <span asp-validation-for="Scale" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Scroll Page</label>
                                <select asp-for="ScrollPage" class="form-control">
                                    <option value="true">True</option>
                                    <option value="false">False</option>
                                </select>
                                <span asp-validation-for="ScrollPage" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Emulate Screen Media</label>
                                <select asp-for="EmulateScreenMedia" class="form-control">
                                    <option value="true">True</option>
                                    <option value="false">False</option>
                                </select>
                                <span asp-validation-for="EmulateScreenMedia" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Page Format</label>
                                <select asp-for="PageFormat" class="form-control">
                                    <option value="A4">A4</option>
                                    <option value="A5">A5</option>
                                </select>
                                <span asp-validation-for="PageFormat" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Orientation</label>
                                <select asp-for="IsLandscape" class="form-control">
                                    <option value="false">Portrait</option>
                                    <option value="true">Landscape</option>
                                </select>
                                <span asp-validation-for="IsLandscape" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <input type="submit" value="Save" class="btn btn-default" />
                            </div>
                        </form>
                    </div>
                    <div class="col-md-8">
                        <div id="editor">
                            @Model.DraftHtml
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {

    <style type="text/css" media="screen">

        #editor {
            position: relative;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            min-height: 700px;
            height: 100%;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.4/ace.js"></script>
    <script>
    var editor = ace.edit("editor");
        editor.setTheme("ace/theme/monokai");
        editor.session.setMode("ace/mode/javascript");
        var textarea = $('#DraftHtml');
        editor.getSession().on("change", function () {
            textarea.val(editor.getSession().getValue());
        });
    </script>

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
